{% extends 'base.html' %}
{% load static %}

{% block title %}Panaya{% endblock %}


{% block css %}
    <link rel="stylesheet" href="{% static 'pages_static/css/styles.css' %}" />
{% endblock css %}

{% block body %}
    <main>
      <section id="welcome-carousel">
        <div class="owl-carousel owl-fw-carousel owl-theme">
          {% for img in IndexSlider %}
          <div class="item overlay-container" style="width:auto">
            <div class="item">
              <img class="img-fluid" loading="lazy" loading="lazy" src="{{ img.image.url }}" alt="" />
            </div>
          </div>
          {% endfor %}
        </div>
      </section>

      <section class="mt-2 text-center" id="welcome-line">
        <img loading="lazy"
          class="img-fluid"
          src="{%static 'pages_static/images/index/imageedit_5_9031586909 1.png' %}"
          alt=""
        />
        <h1>Welcome to Panaya</h1>
        <p>
          A slow, luxurious immersion into the finest  handwoven heritage heirloom from Banaras.
        </p>
        <img loading="lazy"
          class="flip-horizontal img-fluid"
          src="{%static 'pages_static/images/index/imageedit_5_9031586909 1.png' %}"
          alt=""
        />
      </section>

      <section class="mt-2" id="explore-banaras">
        <div class="section-heading">
          <img loading="lazy" src="{%static 'pages_static/images/section-heading-decor.png' %}" alt="" />
          <h1>EXPLORE BANARAS</h1>
          <img loading="lazy"
            class="flip-horizontal"
            src="{%static 'pages_static/images/section-heading-decor.png' %}"
            alt=""
          />
        </div>
        <div class="container" style="text-align: -webkit-center;" class="explore-banaras">
          <div class="row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4">
            {% for category in categories %}
            <div class="col mt-5 text-center d-flex justify-content-center">
              <div class="flip-card">
                <div class="card">
                  <div class="flip-card-inner">
                    <div class="flip-card-front">
                      <div class="overlay-container">
                        <a href="{% url 'product_list_by_category' category.slug %}">
                          <img loading="lazy"
                          class="img-fluid"
                          src="{{category.get_thumbnail}}"
                          alt=""
                          />
                        </a>
                        <a href="{% url 'product_list_by_category' category.slug %}">
                          <h4 class="overlay-text e_name m-4 text-white">{{category.name}}</h4>
                        </a>
                      </div>
                    </div>
                    <div class="flip-card-back">
                      <p class="ps-2 p-4">
                        {{category.description}}
                      </p>
                      <a class="btn styled-btn-filled" href="{% url 'product_list_by_category' category.slug %}">View More</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
            
          </div>
        </div>
      </section>

      <section class="mt-2" id="new-arrival">
        <div class="section-heading">
          <img loading="lazy" src="{%static 'pages_static/images/section-heading-decor.png' %}" alt="" />
          <h1>NEW ARRIVAL</h1>
          <img loading="lazy"
            class="flip-horizontal"
            src="{%static 'pages_static/images/section-heading-decor.png' %}"
            alt=""
          />
        </div>
        <div class="container-lg">
          <h1 style="color: rgba(141, 0, 32, 1)" class="text-center mt-3 mb-5">
            Shop the exclusive new collection for festive and bridal looks and get flat 20% off by using code Fest%20
          </h1>
          <div class="row g-2 g-md-5 row-cols-1 row-cols-md-3 w-100">
            <div class="owl-carousel owl-item owl-theme">
            {% for product in new_products %}
            <div class="item">
              <div class="col text-center">
                <img loading="lazy"
                  class="img-fluid"
                  src="{{product.get_primary_img}}"
                  alt=""
                />
                <h2 class="mt-5 text-sp-red">{{product.name}}</h2>
                <a class="btn styled-btn-filled" href="{% url 'product_detail' product.id %}">Shop Now</a>
              </div>
            </div>
            {% endfor %}
          </div>
          </div>
        </div>
      </section>

      <section class="mt-2" id="our-products">
        <div class="section-heading">
          <img loading="lazy" src="{%static 'pages_static/images/section-heading-decor.png' %}" alt="" />
          <h1>OUR PRODUCTS</h1>
          <img loading="lazy"
            class="flip-horizontal"
            src="{%static 'pages_static/images/section-heading-decor.png' %}"
            alt=""
          />
        </div>
        <div class="row g-2 g-md-3 row-cols-1 row-cols-md-3 mt-2 d-flex justify-content-around w-100" style="margin-left : 0;">
          {% for type in types %}
          <div class="col text-center">
            <a href="{% url 'product_list_by_type' type.slug %}">
              <img loading="lazy"
              class="img-fluid"
              src="{{type.get_thumbnail}}"
              alt=""
              />
            </a>
            <a href="{% url 'product_list_by_type' type.slug %}">
              <h2 class="mt-5 text-sp-red">{{type.name}}</h2>
            </a>
          </div>
          {% endfor %}
        </div>
      </section>
      <div class="container-md">
          <h1 class="text-center mb-5 text-sp-red">WOVEN HEIRLOOMS</h1>
          <p class="mb-5">
            More than a 100 year old luxury handmade textile brand, Panaya GOLD ever since it's inception has been committed to preserving and innovating with the highest levels of artistry and handcraftmanship in Banaras. Its single edition sarees are
            contemporary heirlooms for today’s connoisseurs. Each
            One-of-a-kind saree is handwoven over several months,
            benchmarking excellence in quality of materials and design which
            attempt to match historical masterpieces, ensuring
            simultaneously, comfort for today’s wearer.
          </p>
      </div>
      <section id="heirlooms" class="my-5 mx-auto w-100">
        <div class="container-md">
          <div class="container-fluid">
            <div class="row container g-2 justify-content-center">
              <div class="col-sm-6">
                <img loading="lazy"
                  class="img-fluid"
                  src="{%static 'pages_static/images/index/Rectangle 72.png' %}"
                  alt=""
                />
              </div>
              <div class="col-sm-6 align-self-center">
                <!-- <div class="row"> -->
                <img loading="lazy"
                  style="display: block"
                  src="{%static 'pages_static/images/index/Rectangle 73.png' %}"
                  alt=""
                  class="pb-2 img-fluid"
                />
                <!-- </div> -->
                <!-- <div class="row"> -->
                <img loading="lazy"
                  style="display: block"
                  src="{%static 'pages_static/images/index/Rectangle 74.png' %}"
                  alt=""
                  class="img-fluid"
                />
                <!-- </div> -->
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <section class="text-center my-5">
        <h1 class="mb-5" style="font-family: Homerun;">"Handwoven stories written in eternal Banaras"</h1>
        <p class="">
          Each Panaya product has been made by the hands of a dedicated,
          trained artisan, with skills passed down through generations.
        </p>
      </section>

      <section
        class="container-fluid d-flex align-items-center justify-content-center"
        id="banaras-store"
      >
        <div
          style="
            background: linear-gradient(
              180deg,
              rgba(222, 214, 201, 0.9) 0%,
              rgba(180, 141, 111, 0.76) 100%
            );
          "
          class="p-5 text-center"
        >
          <h1>Our Banaras Store</h1>
          <h3>Book a Video Appointment</h3>
          <p>We are available for online video appointments.</p>
          <button class="btn btn-light" onclick="OpenPopUp()">Book Now</button>
        </div>
      </section>

      <div id="pop_up">
        <div class="container p_cont">
          <div class="cross" onclick="closePopUp()" style="transform: rotate(45deg);">+</div>
          <form>
            {% csrf_token %}
            <div class="row mt-5">
              <div class="col-auto">
                <label class="form-label" for="name">Name</label>
              </div>
              <div class="col">
                <input type="text" class="form-control" id='contact-name' name="name">
              </div>
            </div>
            <div class="row mt-5">
              <div class="col-auto">
                <label class="form-label" for="name">Email</label>
              </div>
              <div class="col">
                <input type="text" class="form-control" id='contact-email' name="email">
              </div>
            </div>
            <div class="row mt-5">
              <div class="col-auto">
                <label class="form-label" for="mobile">Mobile No.</label>
              </div>
              <div class="col">
                <input type="number" name="phone" pattern="[1-9]{1}[0-9]{9}" class="form-control" id='contact-phone'>
              </div>
            </div>
            <div class="row mt-5">
              <div class="col-auto">
                <label class="form-label" for="remark">Remarks</label>
              </div>
              <div class="col">
                <input type="text" name='remarks' class="form-control" id='contact-remarks'>
              </div>
            </div>
            <div class="text-center mt-5">
              <input class="st-btn-fill-yellow" style="padding: .5rem;" type="submit" id='contact-send-button'>
            </div>
          </form>
        </div>
      </div>

      <section class="mt-2" id="blogs">
        <div class="section-heading">
          <img loading="lazy" src="{%static 'pages_static/images/section-heading-decor.png' %}" alt="" />
          <h1>Blog Post</h1>
          <img loading="lazy"
            class="flip-horizontal"
            src="{%static 'pages_static/images/section-heading-decor.png' %}"
            alt=""
          />
        </div>
        <div class="container-lg py-2">
          <div class="owl-carousel owl-item owl-theme">
            {% for blog in blogs %}
            <div class="item">
              <div class="card">
                <img loading="lazy"
                src="/media/{{blog.image}}"
                class="card-img-top"
                alt=""
                />
                <div class="card-body">
                  <h5 class="card-title">{{blog.title}}</h5>
                  <p class="mb-0">{{blog.author | upper}} . {{blog.date | timesince}}</p>
                  <div class="card-text">
                    {{blog.content|striptags|truncatewords:40|safe}}
                  </div>
                  <p>.... <a href="{% url 'blog' blog.id %}">read more</a> </p>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </section>

      <section>
        <div class="section-heading">
          <img loading="lazy" src="{%static 'pages_static/images/section-heading-decor.png' %}" alt="" />
          <h1>Instagram</h1>
          <img loading="lazy"
            class="flip-horizontal"
            src="{%static 'pages_static/images/section-heading-decor.png' %}"
            alt=""
          />
        </div>
        <h3 class="text-center mt-3 text-sp-red" style="font-family: Analogue;font-style: normal;font-weight: normal;">Instagram <a class="text-sp-red" href="https://instagram.com/panayasarees/">@panayasarees</a></h3>
        <div class="container">
          <div class="mt-5">
            <div class="owl-carousel owl-theme" id="instafeed">
            </div>
          </div>
        </div>
      </section>

      <div class="modal fade" id="instaPostModal" tabindex="-1" aria-labelledby="instaPostModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
              <iframe id="instaIframe" src="" width="auto" class="vh-100" frameborder="0"></iframe>
          </div>
        </div>
      </div>

    </main>
    <script>
      const popUp = document.getElementById('pop_up')
    function OpenPopUp () {
      popUp.classList.add("active");
    }
    function closePopUp(){
      popUp.classList.remove("active")
    }
    </script>
{% endblock body%}
{% block js %}
<script src="{% static 'pages_static/js/instafeed.min.js' %}"></script>
<!-- owl carousel -->
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"
  integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
></script>
<link
rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
  integrity="sha512-tS3S5qG0BlhnQROyJXvNjeEM4UpMXHrQfTGmbQ1gKmelCxlSEBUaxhRBj/EFTzpbP4RVSrpEikbmdJobCvhE3g=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/><link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw=="
crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<script src="{% static 'pages_static/js/instafeed.js' %}"></script>
<script>
  $(".owl-fw-carousel").owlCarousel({
    loop: true,
    margin: 10,
    autoplay: true,
    nav: true,
    items:  1,
  });
  
  $('#contact-send-button').click(function(e) {
    e.preventDefault();
    $.ajax({
        url: "{% url 'contact_us' %}",
        type: "POST",
        data: {
            'email': $('#contact-email').val(),
            'phone': $('#contact-phone').val(),
            'remarks': $('#contact-remarks').val(),
            "name": $('#contact-name').val(),
        },
        success: function(response) {
            console.log(response);
            if (response == 200) {
                alert("Contact Information Sent!");
            } else {
                alert('Error');
            }
        },
        error: function(response) {
            console.log(response);
            alert("Error");
        }
    });
  });
</script>
<script>
  {% if messages %}
      {% for message in messages %}
      alert(" {{ message }} ");
      {% endfor %}
  {% endif %}
</script>
{% endblock js %}
